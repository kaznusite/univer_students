!function(u){"use strict";function e(){}e.prototype.init=function(){var a=u("#event-modal"),t=u("#modal-title"),n=u("#form-event"),l=null,i=null,s=document.getElementsByClassName("needs-validation"),l=null,i=null,e=new Date,r=e.getDate(),d=e.getMonth(),e=e.getFullYear(),r=(new FullCalendarInteraction.Draggable(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(e){return{title:e.innerText,className:u(e).data("class")}}}),[{title:"Математика",start:new Date(e,d,1)},{title:"Физика",start:new Date(e,d,r-5),end:new Date(e,d,r-2),className:"bg-warning"},{id:999,title:"Химия",start:new Date(e,d,r-3,16,0),allDay:!1,className:"bg-info"},{id:999,title:"Химия",start:new Date(e,d,r+4,16,0),allDay:!1,className:"bg-primary"},{title:"Математика",start:new Date(e,d,r,10,30),allDay:!1,className:"bg-success"},{title:"Биология",start:new Date(e,d,r,12,0),end:new Date(e,d,r,14,0),allDay:!1,className:"bg-danger"},{title:"Биология",start:new Date(e,d,r+1,19,0),end:new Date(e,d,r+1,22,30),allDay:!1,className:"bg-success"},{title:"Биология",start:new Date(e,d,28),end:new Date(e,d,29),url:"http://google.com/",className:"bg-dark"}]),e=(document.getElementById("external-events"),document.getElementById("calendar"));function o(e){a.modal("show"),n.removeClass("was-validated"),n[0].reset(),u("#event-title").val(),u("#event-category").val(),t.text("Добавить Предмет"),i=e}var c=new FullCalendar.Calendar(e,{plugins:["bootstrap","interaction","dayGrid","timeGrid"],editable:!0,droppable:!0,selectable:!0,defaultView:"dayGridMonth",themeSystem:"bootstrap",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},eventClick:function(e){a.modal("show"),n[0].reset(),l=e.event,u("#event-title").val(l.title),u("#event-category").val(l.classNames[0]),i=null,t.text("Edit Event"),i=null},dateClick:function(e){o(e)},events:r});c.render(),u(n).on("submit",function(e){e.preventDefault();u("#form-event :input");var e=u("#event-title").val(),t=u("#event-category").val();!1===s[0].checkValidity()?(event.preventDefault(),event.stopPropagation(),s[0].classList.add("was-validated")):(l?(l.setProp("title",e),l.setProp("classNames",[t])):(e={title:e,start:i.date,allDay:i.allDay,className:t},c.addEvent(e)),a.modal("hide"))}),u("#btn-delete-event").on("click",function(e){l&&(l.remove(),l=null,a.modal("hide"))}),u("#btn-new-event").on("click",function(e){o({date:new Date,allDay:!0})})},u.CalendarPage=new e,u.CalendarPage.Constructor=e}(window.jQuery),function(){"use strict";window.jQuery.CalendarPage.init()}();